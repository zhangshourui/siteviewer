"use strict";function loadVideo(){Hls.isSupported()?function(){var n=new Hls;n.on(Hls.Events.MEDIA_ATTACHED,function(){console.log("🎬 视频元素已绑定");n.loadSource(url)});n.on(Hls.Events.MANIFEST_PARSED,function(){window.hasBeenActivated&&video.play()});n.on(Hls.Events.ERROR,function(t,i){if(console.error("❌ HLS.js error:",i),i.fatal)switch(i.type){case Hls.ErrorTypes.NETWORK_ERROR:console.error("⚠️ 网络错误，尝试恢复");n.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:console.error("⚠️ 媒体错误，尝试恢复");n.recoverMediaError();break;default:console.error("🛑 致命错误，销毁播放器");n.destroy()}});n.attachMedia(video)}():video.canPlayType("application/vnd.apple.mpegurl")?(video.src=url,video.addEventListener("loadedmetadata",function(){video.play()})):alert("您的浏览器不支持播放 HLS 视频")}var video=document.getElementById("videoPlayer"),url=window.videoUrl;loadVideo();window.hasBeenActivated=!1;window.addEventListener("focus",function(){window.hasBeenActivated||video.paused&&video.play();window.hasBeenActivated=!0});